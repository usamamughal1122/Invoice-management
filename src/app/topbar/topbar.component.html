<header class="topbar-header" [class.dark]="isDarkMode">
  <span class="brand">Admin Panel</span>

  <div style="display:flex;align-items:center;gap:15px;">
    <!-- Theme Toggle -->
    <!-- <button (click)="toggleTheme()" class="toggle-button">
      <div class="icon-wrapper" [ngClass]="{'dark': isDarkMode}"> -->
        <!-- Sun Icon -->
        <!-- <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="5" fill="orange" />
          <g stroke="orange" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="4" />
            <line x1="12" y1="20" x2="12" y2="23" />
            <line x1="4.2" y1="4.2" x2="6.5" y2="6.5" />
            <line x1="17.5" y1="17.5" x2="19.8" y2="19.8" />
            <line x1="1" y1="12" x2="4" y2="12" />
            <line x1="20" y1="12" x2="23" y2="12" />
            <line x1="4.2" y1="19.8" x2="6.5" y2="17.5" />
            <line x1="17.5" y1="6.5" x2="19.8" y2="4.2" />
          </g>
        </svg> -->

        <!-- Moon Icon -->
        <!-- <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path fill="yellow" d="M21 12.79A9 9 0 0111.21 3a7 7 0 000 14 9 9 0 019.79-4.21z" />
        </svg>
      </div>
    </button> -->

npm install --f



    <!-- Notifications -->
    <div class="notif-wrapper position-relative me-2">
      <button class="btn btn-link text-decoration-none position-relative" (click)="toggleNotifications($event)" aria-label="Notifications">
        <i class="bi bi-bell fs-4"></i>
        <span *ngIf="unreadCount>0" class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle">{{ unreadCount }}</span>
      </button>

      <div *ngIf="showNotifications" class="notifications-dropdown p-2" (click)="$event.stopPropagation()">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <strong>Notifications</strong>
          <button class="btn btn-sm btn-link" (click)="markAllNotificationsRead()">Mark all as read</button>
        </div>

        <div class="notif-list">
          <div *ngFor="let n of notifications" class="notif-item d-flex align-items-start p-2" [class.unread]="!n.read" (click)="markAsRead(n, $event)">
            <div class="me-2">
              <i class="bi" [ngClass]="{
                'bi-check-circle-fill text-success': n.type === 'success',
                'bi-exclamation-triangle-fill text-warning': n.type === 'warning',
                'bi-info-circle-fill text-info': n.type === 'info',
                'bi-x-circle-fill text-danger': n.type === 'danger'
              }"></i>
            </div>
            <div class="flex-grow-1 small">
              <div class="fw-semibold">{{ n.title }}</div>
              <div class="text-muted small">{{ n.message }}</div>
              <div class="text-muted mt-1 very-small">{{ n.createdAt | date:'short' }}</div>
            </div>
          </div>

          <div *ngIf="notifications.length === 0" class="text-center p-3 muted-small">No notifications</div>
        </div>
      </div>
    </div>

    <!-- User Dropdown -->
  <div class="user-dropdown" (click)="toggleUserMenu()">

    <!-- User Email -->
    <div style="display:flex;align-items:center;gap:5px;">
      <i class="bi bi-person-circle"></i>
      <span style="font-size:14px;">{{ userEmail|slice:0:8}}</span>
      <i class="bi bi-chevron-down"></i>
    </div>

    <!-- Dropdown Menu -->
    <div *ngIf="showUserMenu" class="user-menu">

      <button (click)="logout()" class="user-menu-btn">
        ðŸšª Logout
      </button>

    </div>
  </div>
  </div>
</header>

<ngx-spinner bdColor="rgba(256, 256, 256, 0.8)" size="large" color="#fff" type="ball-scale-multiple" [fullScreen]="true"
  template="<img src='assets/stockify.png' />">
</ngx-spinner>

