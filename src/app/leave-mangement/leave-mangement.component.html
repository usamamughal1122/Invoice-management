<div class="container-fluid bg-light min-vh-100 py-4">
  <!-- Header Section -->
  <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-2">
    <h5 class="fw-bold text-dark mb-0">
      <i class="bi bi-people-fill me-2 text-primary"></i> Leave Management
    </h5>
    <button class="btn btn-sm btn-primary" (click)="onApplyLeave()">
      <i class="bi bi-plus-circle me-1"></i> Apply for Leave
    </button>
  </div>

  <!-- Leave Summary Cards -->
  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card border-0 shadow-sm text-center p-3">
        <div class="text-success fs-3 mb-2">
          <i class="bi bi-person-check text-success" ></i>
        </div>
        <h6 class="fw-semibold text-secondary mb-1">Approved Leaves</h6>
        <h5 class="fw-bold text-success mb-0">{{ approvedLeaves }}</h5>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card border-0 shadow-sm text-center p-3">
        <div class="text-warning fs-3 mb-2">
          <i class="bi bi-hourglass-split text-warning"></i>
        </div>
        <h6 class="fw-semibold text-secondary mb-1">Pending Requests</h6>
        <h5 class="fw-bold text-warning mb-0">{{ pendingRequests }}</h5>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card border-0 shadow-sm text-center p-3">
        <div class="text-danger fs-3 mb-2">
          <i class="bi bi-x-circle text-danger"></i>
        </div>
        <h6 class="fw-semibold text-secondary mb-1">Rejected Leaves</h6>
        <h5 class="fw-bold text-danger mb-0">{{ rejectedLeaves }}</h5>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card border-0 shadow-sm text-center p-3">
        <div class="text-primary fs-3 mb-2">
          <i class="bi bi-calendar2-check text-primary"></i>
        </div>
        <h6 class="fw-semibold text-secondary mb-1">Total Leaves Taken</h6>
        <h5 class="fw-bold text-primary mb-0">{{ leaves.length }}</h5>
      </div>
    </div>
  </div>

  <!-- Leave Requests Table -->
  <div class="card shadow-sm border-0">
    <div class="card-header bg-white text-black d-flex justify-content-between align-items-center py-2 px-3" style="border-radius: 8px;">
  <h6 class="mb-0 fw-semibold">
    <i class="bi bi-list-check me-2 text-primary"></i> Leave Requests
  </h6>
  <div>
    <button class="btn btn-sm btn me-2">
      <i class="bi bi-arrow-repeat me-1"></i> Refresh
    </button>
    <button class="btn btn-sm btn me-2">
      <i class="bi bi-plus-circle me-1"></i> New Request
    </button>
  </div>
</div>

    <div class="table-container">
  <div class="table-responsive shadow-sm rounded-3">
    <table class="table table-hover align-middle mb-0 custom-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Employee</th>
          <th>Type</th>
          <th>From</th>
          <th>To</th>
          <th>Status</th>
          <th class="text-center">Action</th>
        </tr>
      </thead>
      <tbody class="tabel-size">
        <tr *ngFor="let leave of leaves; let i = index">
          <td>{{ i + 1 }}</td>
          <td class="fw-semibold text-uppercase">{{ leave.employeeName?.name}}</td>
          <td>{{ leave.type }}</td>
          <td>{{ leave.fromDate | date: 'mediumDate' }}</td>
          <td>{{ leave.toDate | date: 'mediumDate' }}</td>
          <td>
            <span
              class="badge rounded-pill px-3 py-2"
              [ngClass]="{
                'bg-warning text-dark': leave.status === 'Pending',
                'bg-success': leave.status === 'Approved',
                'bg-danger': leave.status === 'Rejected'
              }"
            >
              {{ leave.status }}
            </span>
          </td>
          <td class="text-center">
            <button
              class="btn btn-outline-dark btn-sm rounded-circle me-2"
              [disabled]="leave.status === 'Approved' || leave.status === 'Rejected'"
              (click)="approveLeave(leave)"
            >
              <i class="bi bi-check-circle"></i>
            </button>
            <button
              class="btn btn-outline-dark btn-sm rounded-circle"
              [disabled]="leave.status === 'Rejected' || leave.status === 'Approved'"
              (click)="rejectLeave(leave)"
            >
              <i class="bi bi-x-circle"></i>
            </button>
          </td>
        </tr>

        <tr *ngIf="leaves.length === 0">
          <td colspan="7" class="text-center py-4 text-muted">
            <i class="bi bi-info-circle me-2"></i> No leave requests found.
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

  </div>
</div>
<ngx-spinner
  bdColor="rgba(256, 256, 256, 0.8)"
  size="large"
  color="#fff"
  type="ball-scale-multiple"
  [fullScreen]="true"
    template="<img src='assets/stockify.png' />"

>

</ngx-spinner>
